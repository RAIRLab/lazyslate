(()=>{var e={426:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var o=t(81),i=t.n(o),r=t(645),s=t.n(r)()(i());s.push([e.id,"\n#header{\n    display: inline-block;\n    background-color: blanchedalmond;\n    padding: 20px;\n}\n\n#proof-canvas{\n    position: absolute;\n    top:0px;\n    left:0px;\n    z-index: -1;\n}\n\n#canvas-blocker{\n    position: absolute;\n    top:0px;\n    left:0px;\n    width: 100%;\n    height: 100%;\n    \n    z-index: 0; /* Above the proof canvas but under the menu */\n    display: none;\n\n    background-color: grey;\n    opacity: 0.5;\n}\n\n#new-node-menu{\n    /* Positioning */\n    position: absolute;\n    width: 30%; height: 60%;\n    top: 0; bottom: 0; right: 0; left: 0;\n    z-index: 1;\n    margin: auto;\n    padding-left: 5%;\n    padding-right: 5%;\n    padding-top: 2%;\n\n    /* Styling */\n    border-radius: 25px;\n    background-color:aliceblue;\n    display: none;\n}\n\n#formula-input{\n    width: 100%;\n    height: 30%;\n}\n\n#justification-input{\n    width: 100%;\n}\n\n#formula-output{\n    border-radius: 10px;\n    text-align: center;\n    font-size: 2em;\n    font-family: Arial, Helvetica, sans-serif;\n    width: 100%;\n    background-color:gainsboro;\n\n}\n",""]);const l=s},645:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",o=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),o&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),o&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,o,i,r){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(o)for(var l=0;l<this.length;l++){var a=this[l][0];null!=a&&(s[a]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);o&&s[c[0]]||(void 0!==r&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=r),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),n.push(c))}},n}},81:e=>{"use strict";e.exports=function(e){return e[1]}},379:e=>{"use strict";var n=[];function t(e){for(var t=-1,o=0;o<n.length;o++)if(n[o].identifier===e){t=o;break}return t}function o(e,o){for(var r={},s=[],l=0;l<e.length;l++){var a=e[l],u=o.base?a[0]+o.base:a[0],c=r[u]||0,p="".concat(u," ").concat(c);r[u]=c+1;var d=t(p),f={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==d)n[d].references++,n[d].updater(f);else{var h=i(f,o);o.byIndex=l,n.splice(l,0,{identifier:p,updater:h,references:1})}s.push(p)}return s}function i(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,i){var r=o(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<r.length;s++){var l=t(r[s]);n[l].references--}for(var a=o(e,i),u=0;u<r.length;u++){var c=t(r[u]);0===n[c].references&&(n[c].updater(),n.splice(c,1))}r=a}}},569:e=>{"use strict";var n={};e.exports=function(e,t){var o=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},216:e=>{"use strict";e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{"use strict";e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var i=void 0!==t.layer;i&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,i&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var r=t.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),n.styleTagTransform(o,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{"use strict";e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},169:(e,n,t)=>{var o,i=function(){var e=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function i(e,n){if(!o[e]){o[e]={};for(var t=0;t<e.length;t++)o[e][e.charAt(t)]=t}return o[e][n]}var r={compressToBase64:function(e){if(null==e)return"";var t=r._compress(e,6,(function(e){return n.charAt(e)}));switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:r._decompress(e.length,32,(function(t){return i(n,e.charAt(t))}))},compressToUTF16:function(n){return null==n?"":r._compress(n,15,(function(n){return e(n+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:r._decompress(e.length,16384,(function(n){return e.charCodeAt(n)-32}))},compressToUint8Array:function(e){for(var n=r.compress(e),t=new Uint8Array(2*n.length),o=0,i=n.length;o<i;o++){var s=n.charCodeAt(o);t[2*o]=s>>>8,t[2*o+1]=s%256}return t},decompressFromUint8Array:function(n){if(null==n)return r.decompress(n);for(var t=new Array(n.length/2),o=0,i=t.length;o<i;o++)t[o]=256*n[2*o]+n[2*o+1];var s=[];return t.forEach((function(n){s.push(e(n))})),r.decompress(s.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":r._compress(e,6,(function(e){return t.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),r._decompress(e.length,32,(function(n){return i(t,e.charAt(n))})))},compress:function(n){return r._compress(n,16,(function(n){return e(n)}))},_compress:function(e,n,t){if(null==e)return"";var o,i,r,s={},l={},a="",u="",c="",p=2,d=3,f=2,h=[],m=0,x=0;for(r=0;r<e.length;r+=1)if(a=e.charAt(r),Object.prototype.hasOwnProperty.call(s,a)||(s[a]=d++,l[a]=!0),u=c+a,Object.prototype.hasOwnProperty.call(s,u))c=u;else{if(Object.prototype.hasOwnProperty.call(l,c)){if(c.charCodeAt(0)<256){for(o=0;o<f;o++)m<<=1,x==n-1?(x=0,h.push(t(m)),m=0):x++;for(i=c.charCodeAt(0),o=0;o<8;o++)m=m<<1|1&i,x==n-1?(x=0,h.push(t(m)),m=0):x++,i>>=1}else{for(i=1,o=0;o<f;o++)m=m<<1|i,x==n-1?(x=0,h.push(t(m)),m=0):x++,i=0;for(i=c.charCodeAt(0),o=0;o<16;o++)m=m<<1|1&i,x==n-1?(x=0,h.push(t(m)),m=0):x++,i>>=1}0==--p&&(p=Math.pow(2,f),f++),delete l[c]}else for(i=s[c],o=0;o<f;o++)m=m<<1|1&i,x==n-1?(x=0,h.push(t(m)),m=0):x++,i>>=1;0==--p&&(p=Math.pow(2,f),f++),s[u]=d++,c=String(a)}if(""!==c){if(Object.prototype.hasOwnProperty.call(l,c)){if(c.charCodeAt(0)<256){for(o=0;o<f;o++)m<<=1,x==n-1?(x=0,h.push(t(m)),m=0):x++;for(i=c.charCodeAt(0),o=0;o<8;o++)m=m<<1|1&i,x==n-1?(x=0,h.push(t(m)),m=0):x++,i>>=1}else{for(i=1,o=0;o<f;o++)m=m<<1|i,x==n-1?(x=0,h.push(t(m)),m=0):x++,i=0;for(i=c.charCodeAt(0),o=0;o<16;o++)m=m<<1|1&i,x==n-1?(x=0,h.push(t(m)),m=0):x++,i>>=1}0==--p&&(p=Math.pow(2,f),f++),delete l[c]}else for(i=s[c],o=0;o<f;o++)m=m<<1|1&i,x==n-1?(x=0,h.push(t(m)),m=0):x++,i>>=1;0==--p&&(p=Math.pow(2,f),f++)}for(i=2,o=0;o<f;o++)m=m<<1|1&i,x==n-1?(x=0,h.push(t(m)),m=0):x++,i>>=1;for(;;){if(m<<=1,x==n-1){h.push(t(m));break}x++}return h.join("")},decompress:function(e){return null==e?"":""==e?null:r._decompress(e.length,32768,(function(n){return e.charCodeAt(n)}))},_decompress:function(n,t,o){var i,r,s,l,a,u,c,p=[],d=4,f=4,h=3,m="",x=[],g={val:o(0),position:t,index:1};for(i=0;i<3;i+=1)p[i]=i;for(s=0,a=Math.pow(2,2),u=1;u!=a;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=t,g.val=o(g.index++)),s|=(l>0?1:0)*u,u<<=1;switch(s){case 0:for(s=0,a=Math.pow(2,8),u=1;u!=a;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=t,g.val=o(g.index++)),s|=(l>0?1:0)*u,u<<=1;c=e(s);break;case 1:for(s=0,a=Math.pow(2,16),u=1;u!=a;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=t,g.val=o(g.index++)),s|=(l>0?1:0)*u,u<<=1;c=e(s);break;case 2:return""}for(p[3]=c,r=c,x.push(c);;){if(g.index>n)return"";for(s=0,a=Math.pow(2,h),u=1;u!=a;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=t,g.val=o(g.index++)),s|=(l>0?1:0)*u,u<<=1;switch(c=s){case 0:for(s=0,a=Math.pow(2,8),u=1;u!=a;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=t,g.val=o(g.index++)),s|=(l>0?1:0)*u,u<<=1;p[f++]=e(s),c=f-1,d--;break;case 1:for(s=0,a=Math.pow(2,16),u=1;u!=a;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=t,g.val=o(g.index++)),s|=(l>0?1:0)*u,u<<=1;p[f++]=e(s),c=f-1,d--;break;case 2:return x.join("")}if(0==d&&(d=Math.pow(2,h),h++),p[c])m=p[c];else{if(c!==f)return null;m=r+r.charAt(0)}x.push(m),p[f++]=r+m.charAt(0),r=m,0==--d&&(d=Math.pow(2,h),h++)}}};return r}();void 0===(o=function(){return i}.call(n,t,n,e))||(e.exports=o)}},n={};function t(o){var i=n[o];if(void 0!==i)return i.exports;var r=n[o]={id:o,exports:{}};return e[o](r,r.exports,t),r.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0,(()=>{"use strict";const e=new Map(Object.entries({not:"¬",and:"∧",or:"∨",if:"⟶",iff:"⟷",forall:"∀",exists:"∃"})),n=Array.from(e.keys()),o=[{name:"assume",fullname:"Assumption"},{name:"notI",fullname:"Negation Introduction (Reductio ad absurdum)"},{name:"notE",fullname:"Negation Elimination (Law of excluded middle)"},{name:"andI",fullname:"Conjunction Introduction (Adjunction)"},{name:"andE",fullname:"Conjunction Elimination (Simplification)"},{name:"orI",fullname:"Disjunction Introduction (Addition)"},{name:"orE",fullname:"Disjunction Elimination (Case analysis)"},{name:"ifI",fullname:"Conditional Introduction (Deduction theorem)"},{name:"ifE",fullname:"Conditional Elimination (Modus ponens)"},{name:"iffI",fullname:"Biconditional Introduction"},{name:"iffE",fullname:"Biconditional Elimination"},{name:"forallI",fullname:"Universal Introduction"},{name:"forallE",fullname:"Universal Elimination"},{name:"existsI",fullname:"Existential Introduction"},{name:"existsE",fullname:"Existential Elimination"}],i=new Map(Object.entries({assume:"Assume"}));for(let n=1;n<o.length;n++){let t=o[n].name;i.set(t,e.get(t.slice(0,-1))+t.slice(-1))}window.logicalOperatorSymbols=e,window.logicalOperatorNames=n,window.inferenceRules=o,window.inferenceRuleSymbols=i;class r{constructor(e){this.string=e,this.value=null,this.children=[];let n=this.string.replaceAll("("," ( ").replaceAll(")"," ) ").trim().split(/\s+/);if(1==n.length&&n[0].match(/^[0-9a-zA-Z]+$/))this.value=n[0];else if(n.length>=3&&"("==n[0]&&")"==n[n.length-1]){let e=0,t=[],o="";for(let i=2;i<n.length-1;i++)")"==n[i]?(e--,o+=" "+n[i]+" ",0==e&&(t.push(o),o="")):"("==n[i]?(e++,o+=" "+n[i]+" "):0==e?t.push(n[i]):e>=1&&(o+=" "+n[i]+" ");if(0!=e)this.value="ERROR";else{this.value=n[1];for(let e of t)this.children.push(new r(e))}}else this.value="ERROR"}getValue(){return this.value}getChildren(){return this.children}isValid(){let e=!0;e&&="ERROR"!=this.value;for(let n of this.children)e&&=n.isValid();return e}toString(t=0){if("ERROR"==this.value)return"ERROR";if(0==this.children.length)return this.value;if(1==this.children.length&&n.includes(this.value)&&"not"==this.value)return e.get(this.value)+this.children[0].toString(t+1);if(2==this.children.length&&n.includes(this.value)){let n=this.children[0].toString(t+1)+" "+e.get(this.value)+" "+this.children[1].toString(t+1);return 0!=t?"("+n+")":n}{let e=this.value+"(";for(let n of this.children)e+=n.toString(t+1)+",";return e.slice(0,-1)+")"}}toExpressionString(){if(0==this.children.length)return this.value;{let e="("+this.value+" ";for(let n of this.children)e+=n.toExpressionString()+" ";return e.slice(0,-1)+")"}}equals(e){if(this.value!=e.value)return!1;if(this.children.length!=e.children.length)return!1;for(let n=0;n<this.children.length;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0}}function s(e){return"and"==e.value&&2==e.children.length}function l(e){return"if"==e.value&&2==e.children.length}function a(e){return"iff"==e.value&&2==e.children.length}function u(e){return"or"==e.value&&2==e.children.length}function c(e){return"not"==e.value&&1==e.children.length}class p{constructor(e,n,t,o){0==arguments.length?this._default_constructor():4==arguments.length?(this.id=0==d.length?0:d[d.length-1].id+1,this.name=""==e?this.id.toString():e,this.justification=n,this.expression=t,this.assumptions=new Set,this.children=[],this.parents=[],this.verified=!1,this.boundingBox=null,this.topAnchor=null,this.botAnchor=null,this.position=o):console.error("Invalid parameters to proof node constructor")}_default_constructor(){this.id=null,this.name=null,this.justification=null,this.expression=null,this.assumptions=new Set,this.children=[],this.parents=[],this.verified=!1,this.boundingBox=null,this.topAnchor=null,this.botAnchor=null,this.position=null}}let d=[],f=[];function h(e,n=[]){e.verified=function(e){switch(e.justification){case"assume":return function(e){return e.assumptions=new Set,e.assumptions.add(e.name),!0}(e);case"notI":return function(e){if(!c(e.expression))return!1;if(2!=e.parents.length)return!1;if(!(c(e.parents[0].expression)&&e.parents[0].expression.children[0].equals(e.parents[1].expression)||c(e.parents[1].expression)&&e.parents[1].expression.children[0].equals(e.parents[0].expression)))return!1;let n=null,t=null;for(let o=0;o<2;o++){for(const i of e.parents[o].assumptions)if(x(i).expression.equals(e.expression.children[0])){n=i,t=o;break}if(null!==n)break}if(null===n)return!1;e.assumptions=new Set;for(let o=0;o<2;o++)for(const i of e.parents[o].assumptions)o==t&&i==n||e.assumptions.add(i);return!0}(e);case"notE":return function(e){if(2!=e.parents.length)return!1;if(!(c(e.parents[0].expression)&&e.parents[0].expression.children[0].equals(e.parents[1].expression)||c(e.parents[1].expression)&&e.parents[1].expression.children[0].equals(e.parents[0].expression)))return!1;let n=null,t=null;for(let o=0;o<2;o++){for(const i of e.parents[o].assumptions){let s=x(i);if(c(s.expression)&&new r("(not "+e.expression.toExpressionString()+")").equals(s.expression)){n=i,t=o;break}}if(null!==n)break}if(null===n)return!1;e.assumptions=new Set;for(let o=0;o<2;o++)for(const i of e.parents[o].assumptions)o==t&&i==n||e.assumptions.add(i);return!0}(e);case"andI":return function(e){if(!s(e.expression))return!1;if(2!=e.parents.length)return!1;for(const n of e.parents)if(!e.expression.children[0].equals(n.expression)&&!e.expression.children[1].equals(n.expression))return!1;e.assumptions=new Set;for(const n of e.parents)for(const t of n.assumptions)e.assumptions.add(t);return!0}(e);case"andE":return function(e){if(1!=e.parents.length)return!1;let n=e.parents[0];if(!s(n.expression))return!1;let t=!1;for(const o of n.expression.children)o.equals(e.expression)&&(t=!0);if(!t)return!1;e.assumptions=new Set;for(const t of n.assumptions)e.assumptions.add(t);return!0}(e);case"orI":return function(e){if(!u(e.expression))return!1;if(1!=e.parents.length)return!1;let n=e.expression.children[0].equals(e.parents[0].expression),t=e.expression.children[1].equals(e.parents[0].expression);if(!n&&!t)return!1;e.assumptions=new Set;for(const n of e.parents[0].assumptions)e.assumptions.add(n);return!0}(e);case"orE":return function(e){if(3!=e.parents.length)return!1;let n=null,t=null,o=null;for(let i=0;i<e.parents.length;i++){let r=e.parents[i];r.expression.equals(e.expression)?null==t?t=i:o=i:u(r.expression)&&(n=i)}if(null===n||null===t||null===o)return!1;let i=e.parents[n],r=null,s=null,l=null,a=null;for(const n of[t,o])for(const t of e.parents[n].assumptions){let e=x(t);if(null===r&&e.expression.equals(i.expression.children[0])){r=n,s=t;break}if(null===l&&e.expression.equals(i.expression.children[1])){l=n,a=t;break}}if(null===r||null===l)return!1;e.assumptions=new Set;for(const t of e.parents[n].assumptions)e.assumptions.add(t);for(const n of e.parents[r].assumptions)n!=s&&e.assumptions.add(n);for(const n of e.parents[l].assumptions)n!=a&&e.assumptions.add(n);return!0}(e);case"ifI":return function(e){if(!l(e.expression))return!1;if(1!=e.parents.length)return!1;let n=e.parents[0];if(!e.expression.children[1].equals(n.expression))return!1;let t=!1,o=null;for(const i of n.assumptions)x(i).expression.equals(e.expression.children[0])&&(t=!0,o=i);if(!t)return!1;e.assumptions=new Set;for(const t of n.assumptions)t!=o&&e.assumptions.add(t);return!0}(e);case"ifE":return function(e){if(2!=e.parents.length)return!1;if(l(e.parents[0].expression)&&!e.expression.equals(e.parents[0].expression.children[1]))return!1;if(l(e.parents[1].expression)&&!e.expression.equals(e.parents[1].expression.children[1]))return!1;let n=l(e.parents[0].expression)&&e.parents[1].expression.equals(e.parents[0].expression.children[0]),t=l(e.parents[1].expression)&&e.parents[0].expression.equals(e.parents[1].expression.children[0]);if(0==n&&0==t)return!1;e.assumptions=new Set;for(const n of e.parents)for(const t of n.assumptions)e.assumptions.add(t);return!0}(e);case"iffI":return function(e){if(!a(e.expression))return!1;if(2!=e.parents.length)return!1;let n=null,t=null;if(e.parents[0].expression.equals(e.expression.children[0])){if(n=e.parents[0],!e.parents[1].expression.equals(e.expression.children[1]))return!1;t=e.parents[1]}else{if(!e.parents[0].expression.equals(e.expression.children[1]))return!1;if(t=e.parents[0],!e.parents[1].expression.equals(e.expression.children[0]))return!1;n=e.parents[1]}let o=!1,i=null;for(const t of n.assumptions)x(t).expression.equals(e.expression.children[1])&&(o=!0,i=t);if(!o)return!1;let r=!1,s=null;for(const n of t.assumptions)x(n).expression.equals(e.expression.children[0])&&(r=!0,s=n);if(!r)return!1;e.assumptions=new Set;for(const t of n.assumptions)t!=i&&e.assumptions.add(t);for(const n of t.assumptions)n!=s&&e.assumptions.add(n);return!0}(e);case"iffE":return function(e){if(2!=e.parents.length)return!1;let n=null;if(a(e.parents[0].expression)&&(e.parents[0].expression.children[0].equals(e.expression)||e.parents[0].expression.children[1].equals(e.expression)))n=0;else{if(!a(e.parents[1].expression)||!e.parents[1].expression.children[0].equals(e.expression)&&!e.parents[1].expression.children[1].equals(e.expression))return!1;n=1}if(1==n){if(!a(e.parents[1].expression)||!e.parents[0].expression.equals(e.parents[1].expression.children[0])&&!e.parents[0].expression.equals(e.parents[1].expression.children[1]))return!1}else if(!a(e.parents[0].expression)||!e.parents[1].expression.equals(e.parents[0].expression.children[0])&&!e.parents[1].expression.equals(e.parents[0].expression.children[1]))return!1;e.assumptions=new Set;for(const n of e.parents)for(const t of n.assumptions)e.assumptions.add(t);return!0}(e);default:return!1}}(e),n.push(e.id);for(let t of e.children)n.includes(t.id)||h(t,n)}function m(e,n,t,o){let i=new p(e,n,t,o);d.push(i),h(i)}function x(e){for(const n of d)if(e==n.name)return n;return null}var g=t(169);function v(){let e=[];for(const n of d)e.push({id:n.id,name:n.name,expression:n.expression.toExpressionString(),justification:n.justification,position:n.position});let n=f.map((e=>[e[0].id,e[1].id]));return JSON.stringify({nodes:e,links:n})}function y(e){d.length=0,f.length=0;const n=JSON.parse(e),t=n.nodes;let o=new Map;for(const e of t){let n=new p;n.id=e.id,n.name=e.name,n.justification=e.justification,n.expression=new r(e.expression),n.position=e.position,d.push(n),o[n.id]=n}const i=n.links;for(const e of i)f.push([o[e[0]],o[e[1]]]),o[e[0]].children.push(o[e[1]]),o[e[1]].parents.push(o[e[0]]);for(const e of d)0==e.parents.length&&h(e)}function w(e){let n=document.getElementById(e);return null!=n&&n instanceof HTMLInputElement?n:null}function b(e){let n=document.getElementById(e);return null!=n&&n instanceof HTMLTextAreaElement?n:null}function E(e){let n=document.getElementById(e);return null!=n&&n instanceof HTMLSelectElement?n:null}function I(){document.getElementById("new-node-menu").style.display="none",document.getElementById("canvas-blocker").style.display="none"}function S(){let e=w("name-input").value,n=E("justification-input").value,t={x:parseInt(w("X-input").value),y:parseInt(w("Y-input").value)};m(e,n,new r(b("formula-input").value),t),I(),F()}function A(){let e=d.filter((e=>w("id-input").value==e.id.toString()))[0];e.name=w("name-input").value,e.position.x=parseInt(w("X-input").value),e.position.y=parseInt(w("Y-input").value),e.justification=E("justification-input").value,e.expression=new r(b("formula-input").value),e.assumptions=new Set,I(),h(e),F()}function B(){let e=b("formula-input").value,n=document.getElementById("formula-output"),t=document.getElementById("create-node-button");if(""==e)n.innerHTML="Formula Output",n.style.backgroundColor="gainsboro",t.disabled=!0;else{let o=new r(e),i=o.isValid();n.innerHTML=o.toString(),n.style.backgroundColor=i?"PaleGreen":"Salmon",t.disabled=!i}}window.addEventListener("load",(function(){let e=document.getElementById("justification-input");for(const n of o)e.innerHTML+="<option value="+n.name+">"+n.fullname+"</option>";document.getElementById("create-node-button").disabled=!0,document.getElementById("canvas-blocker").style.display="none",document.getElementById("new-node-menu").style.display="none",window.closeNewNodeMenu=I,window.onCreateNodeButtonPress=S,window.onEditNodeButtonPress=A,window.onCreateNodeButtonPress=S,window.onCreateNodeButtonPress=S,window.formulaInput=B}));let k=null,T=null,C=!1,q=null,j=0,R=0;function M(e){for(const n of d){const t=n.boundingBox;if(t.x0<e.x&&e.x<t.x1&&t.y0<e.y&&e.y<t.y1)return n}return null}function O(e){C=!0;let n={x:e.offsetX+j,y:e.offsetY+R};if(e.ctrlKey&&null!=q){let e=q,t=M(n);e.id!=t.id&&(e.children.filter((e=>e.id==t.id)).length>0?function(e,n){e.children=e.children.filter((e=>n.id!=e.id)),n.parents=n.parents.filter((n=>e.id!=n.id)),f=f.filter((t=>!(t[0].id==e.id&&t[1].id==n.id))),h(n)}(e,t):function(e,n){f.push([e,n]),e.children.push(n),n.parents.push(e),h(n)}(e,t))}else q=M(n);F()}function L(e){C=!1;let n=e.offsetX+j,t=e.offsetY+R;q=M({x:n,y:t}),F()}function P(e){0==e.buttons&&(C=!1),C&&(q?(q.position.x+=e.movementX,q.position.y+=e.movementY):(j-=e.movementX,R-=e.movementY),F())}function U(e){if("none"==document.getElementById("new-node-menu").style.display)if(null==q||"Backspace"!==e.key&&"Delete"!==e.key){if(null!=q&&"d"===e.key){let e=q.name==q.id.toString()?"":q.name,n={x:q.position.x+100,y:q.position.y+100},t=new r(q.expression.toExpressionString());m(e,q.justification,t,n),q=null,F()}}else!function(e){let n=e.children;for(const n of e.parents)n.children=n.children.filter((n=>e.id!=n.id));for(const n of e.children)n.parents=n.parents.filter((n=>e.id!=n.id));f=f.filter((n=>!(n[0].id==e.id||n[1].id==e.id))),d=d.filter((n=>n.id!=e.id));for(const e of n)h(e)}(q),q=null,F()}function N(e){let n={x:e.offsetX+j,y:e.offsetY+R},t=M(n);var o,i;null==t?(i=n,document.getElementById("canvas-blocker").style.display="inline",document.getElementById("new-node-menu").style.display="inline",document.getElementById("create-node-button").style.display="inline",document.getElementById("edit-node-button").style.display="none",document.getElementById("id-input").style.display="none",w("name-input").value="",w("X-input").value=i.x.toString(),w("Y-input").value=i.y.toString()):(o=t,document.getElementById("canvas-blocker").style.display="inline",document.getElementById("new-node-menu").style.display="inline",document.getElementById("create-node-button").style.display="none",document.getElementById("edit-node-button").style.display="inline",document.getElementById("id-input").style.display="inline",w("id-input").value=o.id.toString(),w("name-input").value=o.name,w("X-input").value=o.position.x.toString(),w("Y-input").value=o.position.y.toString(),E("justification-input").value=o.justification,b("formula-input").value=o.expression.toExpressionString(),B())}function _(e){T=document.getElementById("proof-canvas"),T.width=window.innerWidth,T.height=window.innerHeight,k=T.getContext("2d"),F()}function D(e){!function(e){const n=10;k.font="20px Arial";const t=k.measureText(e.name);let o=t.fontBoundingBoxAscent;null==o&&(o=t.actualBoundingBoxAscent+t.actualBoundingBoxDescent+4);const r=e.position.x-j,s=e.position.y-R,l="{"+Array.from(e.assumptions).toString()+"}",a=20+Math.max(k.measureText(e.expression.toString()).width,k.measureText(e.name).width,k.measureText(l).width);k.strokeStyle=null!=q&&q.id==e.id?"Indigo":"Black",k.fillStyle=null!=q&&q.id==e.id?"Lavender":"white",k.beginPath(),k.roundRect(r,s,a,3*o+20,n),e.boundingBox={x0:r+j,y0:s+R,x1:r+a+j,y1:s+3*o+20+R},k.fill(),k.stroke(),k.beginPath(),k.moveTo(r+a/2,s-o),k.lineTo(r+a/2,s),k.stroke(),k.beginPath();const u=i.get(e.justification),c=k.measureText(u).width+20;k.strokeStyle=e.verified?"green":"red",k.roundRect(r+(a-c)/2,s-(2*o+20),c,o+20,n),k.fill(),k.stroke(),e.topAnchor={x:r+a/2+j,y:s-(2*o+20)+R},e.botAnchor={x:r+a/2+j,y:s+3*o+20+R},k.fillStyle=null!=q&&q.id==e.id?"Indigo":"Black",k.fillText(e.name,r+10,s+o+n),k.fillText(e.expression.toString(),r+n,s+2*o+n),k.fillText(l,r+n,s+3*o+n),k.fillText(u,r+(a-c)/2+n,s-(o+n))}(e)}function F(){k.clearRect(0,0,T.width,T.height);for(const e of d)D(e);for(const t of f)e=t[0],n=t[1],function(e,n){k.strokeStyle="black",k.beginPath(),k.moveTo(e.botAnchor.x-j,e.botAnchor.y-R),k.lineTo(n.topAnchor.x-j,n.topAnchor.y-R),k.stroke()}(e,n);var e,n}window.addEventListener("load",(function(){T=document.getElementById("proof-canvas"),T.width=window.innerWidth,T.height=window.innerHeight,k=T.getContext("2d"),T.addEventListener("dblclick",N),T.addEventListener("mousemove",P),T.addEventListener("mousedown",O),T.addEventListener("mouseup",L),window.addEventListener("keydown",U),window.addEventListener("resize",_)})),null==CanvasRenderingContext2D.prototype.roundRect&&(CanvasRenderingContext2D.prototype.roundRect=function(e,n,t,o,i){return t<2*i&&(i=t/2),o<2*i&&(i=o/2),this.moveTo(e+i,n),this.arcTo(e+t,n,e+t,n+o,i),this.arcTo(e+t,n+o,e,n+o,i),this.arcTo(e,n+o,e,n,i),this.arcTo(e,n,e+t,n,i),this}),window.onDownloadButtonPress=function(){const e=v();!function(e,n){let t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(n)),t.setAttribute("download",e),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}((new Date).getTime()+".json",e)},window.onGetLinkButtonPress=function(){const e=v(),n=(0,g.compressToEncodedURIComponent)(e).replaceAll("-","%2D"),t=window.location.href.split("?")[0]+"?proof="+n;navigator.clipboard.writeText(t)},window.onProofFileUpload=function(){let e=document.getElementById("proof-file-input").files[0],n=new FileReader;n.addEventListener("load",(()=>{y(n.result.toString()),F()}),!1),n.readAsText(e)};var H=t(379),X=t.n(H),Y=t(795),z=t.n(Y),Z=t(569),V=t.n(Z),J=t(565),G=t.n(J),W=t(216),K=t.n(W),Q=t(589),$=t.n(Q),ee=t(426),ne={};ne.styleTagTransform=$(),ne.setAttributes=G(),ne.insert=V().bind(null,"head"),ne.domAPI=z(),ne.insertStyleElement=K(),X()(ee.Z,ne),ee.Z&&ee.Z.locals&&ee.Z.locals,window.addEventListener("load",(function(){const e=window.location.search,n=new URLSearchParams(e);if(n.has("proof")){const e=n.get("proof").replaceAll("%2D","-");y((0,g.decompressFromEncodedURIComponent)(e)),F()}}))})()})();